<!DOCTYPE html>
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns="http://www.w3.org/1999/xhtml"
                template="./../../Template.xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui">
    <ui:define name="titulo">
        Adiministrador
    </ui:define>

    <ui:define name="imports">
        <script type="text/javascript" src="../../resources/scripts/script.js"></script>
    </ui:define>

    <ui:define name="centro">
        <p:panel header="Dados cadastrais">
            <div id="breu" class="breu" ></div>
            <h:form id="meusDados">
                <table style="margin: 0 auto;">
                    <tr style="vertical-align: middle" >
                        <td style="text-align: right" >Nome</td>
                        <td>#{portalGenerico.professor.nomeCompleto}  </td>
                        <td>
                            <p:commandLink action="#{boleanos.ambosTrue(0)}" update="alterarNome" oncomplete="breuOn();abreJanela0();">
                                <h:graphicImage library="imagens" name="update16.png"/>
                            </p:commandLink>
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: right">Email principal</td>
                        <td>#{portalGenerico.professor.emailPrincipal}  </td>
                        <td>
                            <p:commandLink action="#{boleanos.ambosTrue(1)}" update="emailPrincipal" oncomplete="breuOn();abreJanela1();">
                                <h:graphicImage library="imagens" name="update16.png"/>
                            </p:commandLink>
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: right">Email secundário</td>
                        <td>#{portalGenerico.professor.emailSecundario} </td>
                        <td>
                            <p:commandLink action="#{boleanos.ambosTrue(2)}" update="emailSecundario" oncomplete="breuOn();abreJanela2();">
                                <h:graphicImage library="imagens" name="update16.png"/>
                            </p:commandLink>
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: right">Login</td>
                        <td>#{portalGenerico.professor.login} </td>
                        <td>
                            <p:commandLink action="#{boleanos.ambosTrue(3)}" update="login" oncomplete="breuOn();abreJanela3();">
                                <h:graphicImage library="imagens" name="update16.png"/>
                            </p:commandLink>
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: right">Senha</td>
                        <td> #{utilString.ocultaSenha(portalGenerico.professor)}</td>
                        <td>
                            <p:commandLink action="#{boleanos.ambosTrue(4)}" update="senha" oncomplete="breuOn();abreJanela4();">
                                <h:graphicImage library="imagens" name="update16.png"/>
                            </p:commandLink>
                        </td>
                    </tr>
                </table>
                
                <br/>
                <br/>
                <br/>
            </h:form>
            <h:form id="alterarNome" prependId="false" >
                <p:outputPanel rendered="#{boleanos.verA(0)}" styleClass="outputpanel"  >
                    <div class="janelaRolavel" id="janelaRolavel0"  >
                        <p:panel header="Altera Minha Conta" id="janela0" styleClass="janelas" >
                            <table>
                                <tr>
                                    <td>Nome</td>
                                    <td> </td>
                                    <td><p:inputText value="#{portalGenerico.professor.nomeCompleto}"/> </td>
                                </tr>
                            </table>
                            <p:commandButton image="voltar2" style="margin-right: 10px;" actionListener="#{boleanos.mudaA(0, boleanos.timeDefault)}"
                                             onstart="fechaJanela0();breuOff();"  />
                            <p:commandButton image="update" update="meusDados" action="#{beanAdmin.atualizaAdministrador(portalGenerico)}" onstart="fechaJanela0();breuOff();" />
                        </p:panel>
                    </div>
                </p:outputPanel>
            </h:form>
            <h:form id="emailPrincipal" prependId="false" >
                <p:outputPanel rendered="#{boleanos.verA(1)}" styleClass="outputpanel"  >
                    <div class="janelaRolavel" id="janelaRolavel1"  >
                        <p:panel header="Altera Minha Conta" id="janela1" styleClass="janelas" >
                            <table>
                                <tr>
                                    <td>Email principal</td>
                                    <td> </td>
                                    <td><p:inputText value="#{portalGenerico.professor.emailPrincipal}"/> </td>
                                </tr>
                            </table>
                            <p:commandButton image="voltar2" style="margin-right: 10px;" actionListener="#{boleanos.mudaA(1, boleanos.timeDefault)}"
                                             onstart="fechaJanela1();breuOff();"  />
                            <p:commandButton image="update" update="meusDados" action="#{beanProfessor.atualizaProfessor(portalGenerico)}"
                                             onstart="fechaJanela1();breuOff();" />
                        </p:panel>
                    </div>
                </p:outputPanel>
            </h:form>
            <h:form id="emailSecundario" prependId="false" >
                <p:outputPanel rendered="#{boleanos.verA(2)}" styleClass="outputpanel"  >
                    <div class="janelaRolavel" id="janelaRolavel2"  >
                        <p:panel header="Altera Minha Conta" id="janela2" styleClass="janelas" >
                            <table>
                                <tr>
                                    <td>Email secundário</td>
                                    <td> </td>
                                    <td><p:inputText value="#{portalGenerico.professor.emailSecundario}"/> </td>
                                </tr>
                            </table>
                            <p:commandButton image="voltar2" style="margin-right: 10px;" actionListener="#{boleanos.mudaA(2, boleanos.timeDefault)}"
                                             onstart="fechaJanela2();breuOff();"  />
                            <p:commandButton image="update" update="meusDados" action="#{beanAdmin.atualizaAdministrador(portalGenerico)}"
                                             onstart="fechaJanela2();breuOff();" />
                        </p:panel>
                    </div>
                </p:outputPanel>
            </h:form>
            <h:form id="login" prependId="false" >
                <p:outputPanel rendered="#{boleanos.verA(3)}" styleClass="outputpanel"  >
                    <div class="janelaRolavel" id="janelaRolavel3"  >
                        <p:panel header="Altera Minha Conta" id="janela3" styleClass="janelas" >
                            <table>
                                <tr>
                                    <td>Login</td>
                                    <td> </td>
                                    <td><p:inputText value="#{portalGenerico.professor.login}" validatorMessage="#{msg.validaTamanhoLogin}" >
                                            <f:validateLength minimum="3"  />
                                        </p:inputText>
                                    </td>
                                </tr>
                            </table>
                            <p:commandButton type="reset" image="voltar2" style="margin-right: 10px;" action="#{boleanos.mudaA(3, boleanos.timeDefault)}"
                                             onclick="fechaJanela3();breuOff();" />
                            <p:commandButton image="update" update="meusDados" action="#{beanAdmin.atualizaAdministrador(portalGenerico)}"
                                             oncomplete="atualizaLogin(args)" />
                        </p:panel>
                    </div>
                </p:outputPanel>
            </h:form>
            <h:form id="senha" prependId="false" >
                <p:outputPanel rendered="#{boleanos.verA(4)}" styleClass="outputpanel"  >
                    <div class="janelaRolavel" id="janelaRolavel4"  >
                        <p:panel header="Altera Minha Conta" id="janela4" styleClass="janelas" >
                            <table>
                                <tr>
                                    <td>Senha antiga</td>
                                    <td> </td>
                                    <td><p:inputText value="#{portalGenerico.senhaAntiga}"  required="true" requiredMessage="#{msg.campoVazio}" validatorMessage="#{msg.validaTamanhoSenha}" >
                                            <f:validateLength minimum="3"  />
                                        </p:inputText>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Nova senha</td>
                                    <td> </td>
                                    <td><p:inputText value="#{portalGenerico.novaSenha}" required="true" requiredMessage="#{msg.campoVazio}" validatorMessage="#{msg.validaTamanhoSenha}">
                                            <f:validateLength minimum="3"  />
                                        </p:inputText>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Confirme</td>
                                    <td> </td>
                                    <td>
                                        <p:inputText value="#{portalGenerico.confirmacaoNovaSenha}"  required="true" requiredMessage="#{msg.campoVazio}" validatorMessage="#{msg.validaTamanhoSenha}" >
                                            <f:validateLength minimum="3"  />
                                        </p:inputText>
                                    </td>
                                </tr>
                            </table>
                            <p:commandButton type="reset" image="voltar2" style="margin-right: 10px;" actionListener="#{boleanos.mudaA(4, boleanos.timeDefault)}"
                                             onclick="fechaJanela4();breuOff();"  />
                            <p:commandButton image="update" update="meusDados" action="#{beanProfessor.atualizaSenhaAdministrador(portalGenerico)}"
                                             oncomplete="atualizaSenha(args)" />
                        </p:panel>
                    </div>
                </p:outputPanel>
            </h:form>
        </p:panel>
        <!--ALERTAS FLUTUANTES-->
        <p:growl id="messages" autoUpdate="true" />
        <!--STATUS AJAX-->
        <p:ajaxStatus>
            <f:facet name="start">
                <div class="loading"/> 
            </f:facet>
            <f:facet name="complete">
                <div class="complete"/> 
            </f:facet>
            <f:facet name="error">
                <div class="erro2"/>
            </f:facet>
            <f:facet name="onsuccess">
            </f:facet>
            <f:facet name="onselectStart">
                <div class="erro2"/>
            </f:facet>
            <f:facet name="onselectComplete">
                <div class="erro2"/>
            </f:facet>
        </p:ajaxStatus>
        <script type="text/javascript" >
            function atualizaLogin(args){
                if(args.fecha){
                    fechaJanela3();breuOff();
                }
            }
            function atualizaSenha(args){
                if(args.fecha){
                    fechaJanela4();breuOff();
                }
            }
        </script>
    </ui:define>

</ui:composition>
